---
title:  "[BigData] 빅데이터분석론 - 통계분석 개념정리"

categories:
  - BigData
tags:
  - BigData
  - R
  - statistical analysis
last_modified_at: 2023-04-17T19:10:00-05:00

toc: true
toc_sticky: true
toc_label: "목차"
---

### 통계분석

- 통계학은 빅데이터 분석 / 머신러닝 관련 과목의 선수과목
- 모집단, 표본, 분산과 편차 기술통계(Descriptive Statistics)
- 추정(점추정, 구간추정) - estimation
  - 평균, 분산, 편차 -> 모수
- 가설검정(귀무가설, 대립가설, 유의수준, p value)
  - 귀무가설 : 통념적으로 그렇게 생각되는 것들
  - 대립가설 : 귀무가설이 아니라고 가정하고 통계적으로 분석
  - 가설검정 : 이렇게 세운 가설을 통해 분석한 결과
- 상관분석/회귀분석
  - 상관분석 : 변수간의 밀접한 관련성을 분석
  - 회귀분석 : 변수간에 미치는 영향을 분석


#### 모집단과 표본
- 모집단(population) : 관심의 대상이 되는 모든개체의 전체집합
- 모수 : 모집단의 대표 값, 모평균, 모분산
- 분산 : 퍼진정도
- 표준편차 : 표준편차 제곱이 분산
  - = 평차 : 평균과 얼마나 차이나는지 평균을 구한 값
  - 그냥 더해서 개수로 나누면 값이 0이 나오니까
  - 제곱해서 더한 뒤 개수로 나누고 제곱근을 구한다.

##### 표본추출 방법
- 단순 랜덤추출법
- 계통추출법 : 표본을 시간/공간 적으로 일정한 간격을 두고 추출
  - 선거 출구조사시, 10명 당 한 명을 추출하는데,
    첫번째 10명중 임의로 3번을 뽑고, 13, 23, 33, 이런식으로 샘플링하는법
- 집락(cluster sampling) 추출법
- 층화추출법

#### 위치측도
- 위치측도 : 표본에 속한 특성 값들의 대략적인 크기를 나타내는 측도
  - 중앙값(median) : 데이터를 크기 순으로 나열 했을 때 중앙에 위치
  - 4분위수(quartile)

#### 산포 측도(퍼진 정도)
- 표본분산 : 데이터의 값이 평균으로 부터 떨어져있는 정보
- 표본 표준편차 : 표본 분산의 양의 제곱근, 표준오차라고도 함
- ...

#### 공분산과 상관계수
- 공분산(Covariance) : 두 변수가 같이 움직이는 정도

#### 정규분포, 표준정규분포
- 정규분포 : 평균이 중간에 있게
  - (관측치-평균) / 표준편차
    
- 표준정규분포 : 평균이 0으로

#### 공분산과 상관계수
- 공분산 : 두 변수가 같이 움직이는 정돈

X, Y의 공분산
- 상관계수 : 두 변수간의 관계를 정량적으로 정의한 것
- <strong>X, Y의 공분산을 각각의 표준편차로 나눈 값</strong>
- 두 변수가 어떤 관계가 있는지 알기 위해서,,

- 상관계수 : <strong>변수</strong>들이 서로 관계를 가지고 있다.

#### 상관 분석을 하면 긍정/부정적 요인 예측 가능 ☆

#### 왜도(Skewness)
- 데이터의 중심을 기준으로 한쪽으로 치우친 정도
  - 자료의 대칭성을 알아보는 측도
  - 쏠림의 정도

#### 첨도(Kurtosis)
- 데이터 분포 형태의 중심위치의 뾰족한 정도를 나타내는 지표

#### 확률과 확률분포
- 확률이론 → 조건부확률 → 전확률공식 → 베이즈 정리 → 나이브베이지안
- 확률변수 → 확률분포(이산형, 연속형, 정규분포) → 중심극한정리 → 기타분포

#### 정규분포
- 정규분포(Normal Distribution)
  - 확률밀도함수 그래프를 적분한 것 → 확률
  - 정규분포 그래프 적분의 합 → 1


#### 확률변수 패스..?

#### 정규분포
- '-무한대'부터 x까지 확률의 합 : 확률 밀도함수
- +-1표준편차 안에 자료의 68%가 존재한다.
- 신뢰구간 : 95%의 확률을 가지는 구간
  = +0 2표준편차(-1.96~1.96) 안에 들어있다.

- 정규분포는 표현하기 너무 지저분하고, 복잡해서<br>
  표준화 -> <stonrg>표준 정규분포</stonrg>(평균을 0으로 조정, 표준편차)<br>
  Z ~ (0, 시그마 제곱)<br>
  Z-score : 평균으로부터 떨어져있는 구간

#### R
- 상관관계 : cor(correlation) <br>
  : 공분산을 각각의 표준편차로 나눈것

- 상관관계 매트릭스 : icor <- cor(iris[1:4])
  - 1에 가까울수록 관계성이 크다.

- dbinor : 두 가지의 경우일 때
  - ex) 타자가 안타를 칠 확률
  ```R
  # 타울이 3할인 야구선수가 한경기 5번 타석에 나와서 안타를 한번도 못  칠 확률
  dbinom(0, 5, 0.3)
  # 타울이 3할인 야구선수가 한경기 5번 타석에 나와서 안타를 3번 칠 확률
  dbinom(3, 5, 0.3)
  ```

- 정규분포 
  - 함수 : rnorm(), pnorm(), qnorm(), dnorm()
  - rnorm() : Random
    - ex)
    ```R
    # 정규분포를 따르는 랜덤넘버 100개 생성, 평균은 172, 표준편차가 5
    a <- rnorm(100, 172, 5)
    a
    mean(a)
    ```
  - qnorm() : p의 역함수, 확률값을 갖는 z값을 구하는 함수
    - ex)
      ```R
      qnorm(0.975, mean=0, sd=1)  # 0.95 확률 까지의 편차 -> 1.95
      ```
  - pnorm() : 확률을 구하는 함수
    - ex) 
      ```R
      pnorm(1.96, mean=0, sd=1)   # 표준정규분포에서 평균으로 부터 1.96 떨어진 곳까지의 확률
      # 결과 : 97.5
      ```
- 표본의 통계량
  - 통계량 : 표본으로부터 관찰되는 표본의 특성
  - 모수 : 모집단의 특성을 나타내는 값
  
  - 표본
    - 표본의 기대값(평균) : 모집단의 평균과 동일
  - 표본의 통계량
  - 추정
    - 점추정
    - 구간추정
  - 가설검정

- 중심극한정리(Central Limit Theorem)
  - 모집단으로부터 충분히 크게 여러번 표본을 채집하면, <br>
    표본들의 평균의 분포는 정규분포를 따른다.
  - <strong>모집단의 분포와 상관없이 샘플링한 것을 정규분포로 처리해도 된다.</strong>(특히 30개정도 이상)
  - 표본의 통계량을 이용해 모집단의 모수(Parameter)를 추측할 수 있는 근거
  - 표본의 분산 : ![](/assets/images/bigdata/%ED%91%9C%EB%B3%B8%EC%9D%98%20%EB%B6%84%EC%82%B0.JPG)

- 카이스퀘어 분포 : 정당의 지지율 관련 계산할 때
- t-분포 : 두 집단간의 평균을 계산할 때
- F분포 : 분산의 비율 = 퍼진정도의 비율

#### 추정(Estimation)
  - 구간추정
    - ex) 숭실대학교의 키를 조사할 때 학생들의 키는 정확한 값은 아니지만 신뢰구간 95%에서 165~175cm 사이에 있습니다.
    - 1-알파 구간을 만족하는 세타(L), 세타(U)를 구한다.
    - 이때, 신뢰구간 : 1-알파(유의수준)->통상적으로 95%

  - 기술(묘사, Descriptive Statistics) 통계

  - 추론(추측, Inference Statistics) 통계

#### 검정(Test)
- 가설검정 : 알려져 있는 사실이 맞는지 틀리는지 검정하는 것
  - <strong>귀무가설을 맞다고 가정하고 그게 맞는지 검정하는 것</strong>
  - 귀무가설 : 현재까지 주장되어 온 일반적 통념
    - 아! 너 말이 그렇다는거지!?
  - 대립가설(연구가설) : 귀무가설을 깨고 싶은 가설
  
- 통계적 의사결정(판정)
  - ★★★유의확률(p-value) : 귀무가설이 맞다는 가정하에 표본 통계량의 값이 나타날 확률
    - 귀무가설이 맞을 확률
    - p-value가 0.025보다 작으면 귀무가설 기각하고, 대립가설 채택
    - 신뢰구간 95% ~= P(-1.96<=Z<=+1.96) ~= 유의수준 5% ~= 5%
      - 5%의 유의수준에서 p-value가 0.025(양측검정)보다 작으면 귀무가설 기각

  - 1종 오류 : 귀무가설이 참인데, 귀무가설 기각하고 대립가설 채택하는 오류
  - 2종 오류 : 귀무가설이 거짓인데, 귀무가설을 채택하는 오류
  - 둘 다 좋을 수 없다.